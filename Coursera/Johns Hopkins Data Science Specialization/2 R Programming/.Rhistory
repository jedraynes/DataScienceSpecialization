strptime(t3, "%B %d, %Y %H:%M")
t4 <- strptime(t3, "%B %d, %Y %H:%M")
t4
class(t4)
Sys.time() > t1
Sys.time() - t1
difftime(Sys.time(), t1, units = 'days')
cube <- function(x, n) {
x^3
}
cube(3)
if(x > 5) {
x <- 0
}
if(x > 5) {
x <- 0
}
f <- function(x) {
g <- function(y) {
y + z
}
z <- 4
x + g(x)
}
z <- 10
f(3)
y <- if(x < 3) {
NA
} else {
10
}
x <- 5
y <- if(x < 3) {
NA
} else {
10
}
y
h <- function(x, y = NULL, d = 3L) {
z <- cbind(x, d)
if(!is.null(y))
z <- z + y
else
z <- z + f
g <- x + y / z
if(d == 3L)
return(g)
g <- g + 10
g
}
pollutantmean <- function(directory, pollutant, id = 1:332) {
base_path <- "C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata\\"
data <-read.csv(base_path + directory + ".csv", header = TRUE)
mean(data$pollutant[id == id])
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
abort
pollutantmean <- function(directory, pollutant, id = 1:332) {
data <-read.csv(directory, header = TRUE)
mean(data$pollutant[id == id])
}
pollutantmean("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata", "nitrate", 70:72)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
pollutantmean <- function(directory, pollutant, id = 1:332) {
means <- c()
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path)
spec <- data[pollutant]
means <- c(means, spec[!is.na(spec)])
}
mean(means)
}
pollutantmean("specdata", "sulfate", 1:10)
means <- data.frame(id, nobs)
means <- data.frame()
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
pollutantmean <- function(directory, id = 1:332) {
result <- data.frame()
names(df) <- c("id", "nobs")
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path)
number <- complete.cases(data)
append_df <- data.frame(id, number)
names(append_df) <- c("id", "nobs")
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame()
names(df) <- c("id", "nobs")
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path)
number <- complete.cases(data)
append_df <- data.frame(id, number)
names(append_df) <- c("id", "nobs")
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame()
names(df) <- c("id", "nobs")
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- complete.cases(data)
append_df <- data.frame(id, number)
names(append_df) <- c("id", "nobs")
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame()
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- complete.cases(data)
append_df <- data.frame(id, number)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame()
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- complete.cases(data)
append_df <- data.frame(id, number)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- complete.cases(data)
append_df <- data.frame(id = id, nobs = number)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- complete.cases(data)
print(number)
append_df <- data.frame(id = id, nobs = number)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- data[complete.cases(data)]
print(number)
append_df <- data.frame(id = id, nobs = number)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
print(number)
append_df <- data.frame(id = id, nobs = number)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
print(number)
file <- id
print(file)
append_df <- data.frame(id = file, nobs = number)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
print(number)
file <- id
print(file)
append_df <- data.frame(id = file, nobs = number)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
print(number)
file <- id
print(file)
append_df <- data.frame(id = file, nobs = number)
print(append_df)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
print(df)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
print(number)
file <- id
print(file)
append_df <- data.frame(id = file, nobs = number)
df <- rbind(df, append_df)
}
print(df)
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", 30:25)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
print(number)
file <- id
print(file)
}
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", 30:25)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
print(number)
file <- i
print(file)
}
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", 30:25)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
append_df <- data.frame(id = i, nobs = number)
df <- rbind(df, append_df)
}
df
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", 30:25)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
append_df <- data.frame(id = i, nobs = number)
df <- rbind(df, append_df)
}
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", 30:25)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
append_df <- data.frame(id = i, nobs = number)
result <- rbind(df, append_df)
}
result
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", 30:25)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
append_df <- data.frame(id = i, nobs = number)
result <- rbind(result, append_df)
}
result
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", 30:25)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
#result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
append_df <- data.frame(id = i, nobs = number)
result <- rbind(append_df, append_df)
}
result
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", 30:25)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
append_df <- data.frame(id = i, nobs = number)
result <- rbind(result, append_df)
}
result[complete.cases(result),]
}
#C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming\\specdata
complete("specdata", 30:25)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
complete <- function(directory, id = 1:332) {
result <- data.frame(id=NA, nobs=NA)
for (i in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
data <- read.csv(path, header = TRUE)
number <- sum(complete.cases(data))
append_df <- data.frame(id = i, nobs = number)
result <- rbind(result, append_df)
}
result[complete.cases(result),]
}
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
source("complete.R")
corr <- function(directory, threshold = 0) {
cor_results <- numeric(0)
complete_cases <- complete(directory)
complete_cases <- complete_cases[complete_cases$nobs>=threshold, ]
if(nrow(complete_cases)>0){
for(monitor in complete_cases$id){
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", i), ".csv", sep = "")
monitor_data <- read.csv(path)
interested_data <- monitor_data[(!is.na(monitor_data$sulfate)), ]
interested_data <- interested_data[(!is.na(interested_data$nitrate)), ]
sulfate_data <- interested_data["sulfate"]
nitrate_data <- interested_data["nitrate"]
cor_results <- c(cor_results, cor(sulfate_data, nitrate_data))
}
}
cor_results
}
corr("specdata", 5000)
summary(corr("specdata", 5000))
pollutantmean("specdata", "sulfate", 1:10)
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
pollutantmean <- function(directory, pollutant, id = 1:332) {
means <- c()
for (monitor in id) {
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
data <- read.csv(path)
spec <- data[pollutant]
means <- c(means, spec[!is.na(spec)])
}
mean(means)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
RNGversion("3.5.1")
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata")
setwd("C:\\Users\\Jed\\iCloudDrive\\Documents\\Learn\\R\\Johns Hopkins Data Science Specialization\\2 R Programming")
source("complete.R")
corr <- function(directory, threshold = 0) {
cor_results <- numeric(0)
complete_cases <- complete(directory)
complete_cases <- complete_cases[complete_cases$nobs>=threshold, ]
if(nrow(complete_cases)>0){
for(monitor in complete_cases$id){
path <- paste(getwd(), "\\", directory, "\\", sprintf("%03d", monitor), ".csv", sep = "")
monitor_data <- read.csv(path)
interested_data <- monitor_data[(!is.na(monitor_data$sulfate)), ]
interested_data <- interested_data[(!is.na(interested_data$nitrate)), ]
sulfate_data <- interested_data["sulfate"]
nitrate_data <- interested_data["nitrate"]
cor_results <- c(cor_results, cor(sulfate_data, nitrate_data))
}
}
cor_results
}
cr <- corr("specdata")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
RNGversion("3.5.1")
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
print(c(n, round(cr, 4)))
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
